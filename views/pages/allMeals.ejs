<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head'); %> 
</head>
<body>
    <header><%- include('../partials/headerLoggedin'); %></header>
    <form class = "show" id = "showForm" action="/allMeals" method="GET">
    <div class="container" >
        <h1>Alle Måltider</h1>
        <table>
            <thead>
                <tr>
                    <th>Navn</th>
                    <th>Antal Kalorier</th>
                    <th>Protein</th>
                    <th>Fedt</th>
                    <th>Fiber</th>
                    <th>Antal Ingredienser</th>
                    <th>Tilføj ingrediens</th>
                </tr>
            </thead>
            <tbody>
                <% meals.forEach(meal => { %>
                    <tr>
                        <td><%= meal.Name %></td> <!-- Correct the property name to match the actual property -->
                            <!-- Display other meal properties as needed -->
                            <td>
                                <form class="addIngredientForm" id="addIngredientForm_<%= meal.ID %>" action="/mealIngredient" method="POST">
                                    <input type="hidden" name="mealID" value="<%= meal.ID %>" />
                                    <input type="text" name="ingredientName" placeholder="Enter ingredient name" />
                                    <input type="number" name="amount" placeholder="Enter amount" />
                                    <button type="submit">Add Ingredient</button>
                                </form>
                            </td>
                    </tr>
                <% }); %>

            </tbody>
        </table>
    </div>
    
    <footer><%- include('../partials/footer'); %></footer>
</body>
</html>
